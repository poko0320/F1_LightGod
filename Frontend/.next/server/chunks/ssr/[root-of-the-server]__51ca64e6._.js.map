{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/lib/format-currency.ts"],"sourcesContent":["export function formatCurrency(amount: number, currency: string) {\r\n  // NB. navigator doesn't look like it has all of these keys. We need to investigate if we need browserLanguage, systemLanguage and userLanguage here\r\n  // @ts-expect-error - navigator is not typed\r\n  const { language, browserLanguage, systemLanguage, userLanguage } = navigator;\r\n\r\n  const browserLocale = language || browserLanguage || systemLanguage || userLanguage || \"en-US\";\r\n\r\n  return amount.toLocaleString(browserLocale, {\r\n    style: \"currency\",\r\n    currency,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;AAAO,SAAS,eAAe,MAAc,EAAE,QAAgB;IAC7D,oJAAoJ;IACpJ,4CAA4C;IAC5C,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE,YAAY,EAAE,GAAG;IAEpE,MAAM,gBAAgB,YAAY,mBAAmB,kBAAkB,gBAAgB;IAEvF,OAAO,OAAO,cAAc,CAAC,eAAe;QAC1C,OAAO;QACP;IACF;AACF","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,yNAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,sLAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/components/checkout/product-image.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  imageUrl: string;\r\n  name: string;\r\n}\r\n\r\nexport function ProductImage(props: Props) {\r\n  const { imageUrl, name, className } = props;\r\n\r\n  return <img src={imageUrl} alt={name} className={cn(\"h-8.5 w-8.5 object-cover\", className)} />;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAQO,SAAS,aAAa,KAAY;IACvC,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG;IAEtC,qBAAO,6WAAC;QAAI,KAAK;QAAU,KAAK;QAAM,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;;;;;;AAClF","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\";\r\nimport { ChevronDownIcon } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Accordion({ ...props }: React.ComponentProps<typeof AccordionPrimitive.Root>) {\r\n  return <AccordionPrimitive.Root data-slot=\"accordion\" {...props} />;\r\n}\r\n\r\nfunction AccordionItem({ className, ...props }: React.ComponentProps<typeof AccordionPrimitive.Item>) {\r\n  return (\r\n    <AccordionPrimitive.Item\r\n      data-slot=\"accordion-item\"\r\n      className={cn(\"border-b last:border-b-0\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AccordionTrigger({ className, children, ...props }: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {\r\n  return (\r\n    <AccordionPrimitive.Header className=\"flex\">\r\n      <AccordionPrimitive.Trigger\r\n        data-slot=\"accordion-trigger\"\r\n        className={cn(\r\n          \"focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <ChevronDownIcon className=\"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200\" />\r\n      </AccordionPrimitive.Trigger>\r\n    </AccordionPrimitive.Header>\r\n  );\r\n}\r\n\r\nfunction AccordionContent({ className, children, ...props }: React.ComponentProps<typeof AccordionPrimitive.Content>) {\r\n  return (\r\n    <AccordionPrimitive.Content\r\n      data-slot=\"accordion-content\"\r\n      className=\"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm\"\r\n      {...props}\r\n    >\r\n      <div className={cn(\"pt-0 pb-4\", className)}>{children}</div>\r\n    </AccordionPrimitive.Content>\r\n  );\r\n}\r\n\r\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\r\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,UAAU,EAAE,GAAG,OAA6D;IACnF,qBAAO,6WAAC,4QAAA,CAAA,OAAuB;QAAC,aAAU;QAAa,GAAG,KAAK;;;;;;AACjE;AAEA,SAAS,cAAc,EAAE,SAAS,EAAE,GAAG,OAA6D;IAClG,qBACE,6WAAC,4QAAA,CAAA,OAAuB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAgE;IAClH,qBACE,6WAAC,4QAAA,CAAA,SAAyB;QAAC,WAAU;kBACnC,cAAA,6WAAC,4QAAA,CAAA,UAA0B;YACzB,aAAU;YACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8SACA;YAED,GAAG,KAAK;;gBAER;8BACD,6WAAC,4SAAA,CAAA,kBAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,iBAAiB,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAgE;IAClH,qBACE,6WAAC,4QAAA,CAAA,UAA0B;QACzB,aAAU;QACV,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,6WAAC;YAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,aAAa;sBAAa;;;;;;;;;;;AAGnD","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = \"horizontal\",\r\n  decorative = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,6WAAC,4QAAA,CAAA,OAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kKACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/components/checkout/order-summary.tsx"],"sourcesContent":["import { CheckoutEventsData } from \"@paddle/paddle-js\";\r\nimport { formatCurrency } from \"@/lib/format-currency\";\r\n\r\nimport { ProductImage } from \"@/components/checkout/product-image\";\r\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\n\r\ninterface Props {\r\n  checkoutData: CheckoutEventsData;\r\n  expanded?: boolean;\r\n  locale: string | undefined;\r\n}\r\n\r\nexport function OrderSummary(props: Props) {\r\n  const { checkoutData } = props;\r\n\r\n  const currencyCode = checkoutData.currency_code;\r\n\r\n  const hasImage = checkoutData.items.some((item) => item.product.image_url);\r\n\r\n  return (\r\n    <Accordion\r\n      type=\"single\"\r\n      collapsible\r\n      className=\"bg-background lg:bg-card mx-auto w-full rounded-lg\"\r\n      defaultValue={props.expanded ? \"order-summary\" : undefined}\r\n    >\r\n      <AccordionItem value=\"order-summary\">\r\n        <AccordionTrigger className=\"text-md cursor-pointer px-4 hover:no-underline\">\r\n          <h3 className=\"text-md\">Show order summary</h3>\r\n        </AccordionTrigger>\r\n\r\n        <AccordionContent className=\"px-4\">\r\n          <div className=\"mt-4\">\r\n            <div className=\"space-y-3\">\r\n              {checkoutData.items.map((item) => (\r\n                <div key={item.price_id} className=\"flex items-center gap-3 text-sm\">\r\n                  {hasImage && (\r\n                    <>\r\n                      {item.product.image_url ? (\r\n                        <ProductImage imageUrl={item.product.image_url || \"\"} name={item.product.name} />\r\n                      ) : (\r\n                        <div className=\"bg-muted text-muted-foreground flex h-8.5 w-8.5 items-center justify-center rounded-lg text-xl\">\r\n                          {item.product.name.charAt(0)}\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                  <div className=\"w-0 min-w-0 flex-1\">\r\n                    <p className=\"truncate font-medium\">{item.product.name}</p>\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <p className=\"text-muted-foreground\">{formatCurrency(item.totals.total, currencyCode)}</p>\r\n                      <span className=\"text-muted-foreground\">x{item.quantity}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"mt-8 flex flex-col gap-2\">\r\n              <Separator className=\"mb-1 w-full\" />\r\n              <div className=\"flex justify-between\">\r\n                <p className=\"text-muted-foreground\">Subtotal</p>\r\n                <p>{formatCurrency(checkoutData.totals.subtotal, currencyCode)}</p>\r\n              </div>\r\n\r\n              {checkoutData.totals.discount > 0 && (\r\n                <div className=\"flex justify-between\">\r\n                  <p className=\"text-muted-foreground\">Discount</p>\r\n                  <p>- {formatCurrency(checkoutData.totals.discount, currencyCode)}</p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex justify-between\">\r\n                <p className=\"text-muted-foreground\">Tax</p>\r\n                <p>{formatCurrency(checkoutData.totals.tax, currencyCode)}</p>\r\n              </div>\r\n\r\n              <Separator className=\"my-1 w-full\" />\r\n              <div className=\"flex justify-between\">\r\n                <p className=\"text-muted-foreground\">Total</p>\r\n                <p>{formatCurrency(checkoutData.totals.total, currencyCode)}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </AccordionContent>\r\n      </AccordionItem>\r\n    </Accordion>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AAEA;AACA;AACA;;;;;;AAQO,SAAS,aAAa,KAAY;IACvC,MAAM,EAAE,YAAY,EAAE,GAAG;IAEzB,MAAM,eAAe,aAAa,aAAa;IAE/C,MAAM,WAAW,aAAa,KAAK,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,OAAO,CAAC,SAAS;IAEzE,qBACE,6WAAC,qIAAA,CAAA,YAAS;QACR,MAAK;QACL,WAAW;QACX,WAAU;QACV,cAAc,MAAM,QAAQ,GAAG,kBAAkB;kBAEjD,cAAA,6WAAC,qIAAA,CAAA,gBAAa;YAAC,OAAM;;8BACnB,6WAAC,qIAAA,CAAA,mBAAgB;oBAAC,WAAU;8BAC1B,cAAA,6WAAC;wBAAG,WAAU;kCAAU;;;;;;;;;;;8BAG1B,6WAAC,qIAAA,CAAA,mBAAgB;oBAAC,WAAU;8BAC1B,cAAA,6WAAC;wBAAI,WAAU;;0CACb,6WAAC;gCAAI,WAAU;0CACZ,aAAa,KAAK,CAAC,GAAG,CAAC,CAAC,qBACvB,6WAAC;wCAAwB,WAAU;;4CAChC,0BACC;0DACG,KAAK,OAAO,CAAC,SAAS,iBACrB,6WAAC,kJAAA,CAAA,eAAY;oDAAC,UAAU,KAAK,OAAO,CAAC,SAAS,IAAI;oDAAI,MAAM,KAAK,OAAO,CAAC,IAAI;;;;;yEAE7E,6WAAC;oDAAI,WAAU;8DACZ,KAAK,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;;;;;;;0DAKlC,6WAAC;gDAAI,WAAU;;kEACb,6WAAC;wDAAE,WAAU;kEAAwB,KAAK,OAAO,CAAC,IAAI;;;;;;kEAEtD,6WAAC;wDAAI,WAAU;;0EACb,6WAAC;gEAAE,WAAU;0EAAyB,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD,EAAE,KAAK,MAAM,CAAC,KAAK,EAAE;;;;;;0EACxE,6WAAC;gEAAK,WAAU;;oEAAwB;oEAAE,KAAK,QAAQ;;;;;;;;;;;;;;;;;;;;uCAjBnD,KAAK,QAAQ;;;;;;;;;;0CAwB3B,6WAAC;gCAAI,WAAU;;kDACb,6WAAC,qIAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;kDACrB,6WAAC;wCAAI,WAAU;;0DACb,6WAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,6WAAC;0DAAG,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD,EAAE,aAAa,MAAM,CAAC,QAAQ,EAAE;;;;;;;;;;;;oCAGlD,aAAa,MAAM,CAAC,QAAQ,GAAG,mBAC9B,6WAAC;wCAAI,WAAU;;0DACb,6WAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,6WAAC;;oDAAE;oDAAG,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD,EAAE,aAAa,MAAM,CAAC,QAAQ,EAAE;;;;;;;;;;;;;kDAIvD,6WAAC;wCAAI,WAAU;;0DACb,6WAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,6WAAC;0DAAG,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD,EAAE,aAAa,MAAM,CAAC,GAAG,EAAE;;;;;;;;;;;;kDAG9C,6WAAC,qIAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;kDACrB,6WAAC;wCAAI,WAAU;;0DACb,6WAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,6WAAC;0DAAG,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD,EAAE,aAAa,MAAM,CAAC,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ9D","debugId":null}},
    {"offset": {"line": 461, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/lib/format-billing-cycle.ts"],"sourcesContent":["import { CheckoutEventsTimePeriod } from \"@paddle/paddle-js\";\r\n\r\nexport function formatBillingCycle(billingCycle: CheckoutEventsTimePeriod | null | undefined): string {\r\n  if (!billingCycle) {\r\n    return \"\";\r\n  }\r\n\r\n  const { frequency, interval } = billingCycle;\r\n  return frequency === 1 ? interval : `${frequency} ${interval}s`;\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,mBAAmB,YAAyD;IAC1F,IAAI,CAAC,cAAc;QACjB,OAAO;IACT;IAEA,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG;IAChC,OAAO,cAAc,IAAI,WAAW,GAAG,UAAU,CAAC,EAAE,SAAS,CAAC,CAAC;AACjE","debugId":null}},
    {"offset": {"line": 477, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/lib/format-trial-period.ts"],"sourcesContent":["import { CheckoutEventsTimePeriod } from \"@paddle/paddle-js\";\r\n\r\nexport function formatTrialPeriod(trialPeriod: CheckoutEventsTimePeriod) {\r\n  const interval = trialPeriod.frequency === 1 ? trialPeriod.interval : `${trialPeriod.interval}s`;\r\n\r\n  return `${trialPeriod.frequency} ${interval}`;\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,kBAAkB,WAAqC;IACrE,MAAM,WAAW,YAAY,SAAS,KAAK,IAAI,YAAY,QAAQ,GAAG,GAAG,YAAY,QAAQ,CAAC,CAAC,CAAC;IAEhG,OAAO,GAAG,YAAY,SAAS,CAAC,CAAC,EAAE,UAAU;AAC/C","debugId":null}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/components/checkout/product-details.tsx"],"sourcesContent":["import type { CheckoutEventsData } from \"@paddle/paddle-js/types/checkout/events\";\r\n\r\nimport { formatCurrency } from \"@/lib/format-currency\";\r\nimport { OrderSummary } from \"@/components/checkout/order-summary\";\r\nimport { ProductImage } from \"@/components/checkout/product-image\";\r\nimport { formatBillingCycle } from \"@/lib/format-billing-cycle\";\r\nimport { formatTrialPeriod } from \"@/lib/format-trial-period\";\r\n\r\ntype Props = {\r\n  checkoutData: CheckoutEventsData;\r\n  locale: string | undefined;\r\n};\r\n\r\nexport function ProductDetails({ checkoutData, locale }: Props) {\r\n  const currency = checkoutData.currency_code;\r\n\r\n  const trialPeriod = checkoutData.items?.find((item) => item.trial_period)?.trial_period;\r\n  const billingCycle = checkoutData.items?.find((item) => item.billing_cycle)?.billing_cycle;\r\n  const numberOfPrices = checkoutData.items?.length;\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-3 px-3\">\r\n      <div className=\"flex items-start justify-between gap-4\">\r\n        <div className=\"flex items-start gap-4\">\r\n          {checkoutData.items[0].product.image_url && (\r\n            <ProductImage\r\n              className=\"-translate-y-1.25\"\r\n              imageUrl={checkoutData.items[0].product.image_url}\r\n              name={checkoutData.items[0].product.name}\r\n            />\r\n          )}\r\n\r\n          <h2 className=\"text-2xl leading-none font-semibold\">{checkoutData.items[0].product.name}</h2>\r\n        </div>\r\n        {numberOfPrices > 1 && (\r\n          <p className=\"text-muted-foreground pt-1 text-sm whitespace-nowrap\">+{numberOfPrices - 1} more</p>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div className=\"flex flex-col\">\r\n          <p>{formatCurrency(checkoutData.totals.total, currency)} now</p>\r\n          {checkoutData.recurring_totals && billingCycle && (\r\n            <p className=\"text-muted-foreground mt-1 text-sm\">\r\n              Then {formatCurrency(checkoutData.recurring_totals.total, currency)}/{formatBillingCycle(billingCycle)}\r\n              {trialPeriod && (\r\n                <>\r\n                  <span> after </span>\r\n                  {formatTrialPeriod(trialPeriod)}\r\n                </>\r\n              )}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"hidden lg:flex\">\r\n        <OrderSummary checkoutData={checkoutData} expanded locale={locale} />\r\n      </div>\r\n\r\n      <div className=\"lg:hidden\">\r\n        <OrderSummary checkoutData={checkoutData} locale={locale} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AAOO,SAAS,eAAe,EAAE,YAAY,EAAE,MAAM,EAAS;IAC5D,MAAM,WAAW,aAAa,aAAa;IAE3C,MAAM,cAAc,aAAa,KAAK,EAAE,KAAK,CAAC,OAAS,KAAK,YAAY,GAAG;IAC3E,MAAM,eAAe,aAAa,KAAK,EAAE,KAAK,CAAC,OAAS,KAAK,aAAa,GAAG;IAC7E,MAAM,iBAAiB,aAAa,KAAK,EAAE;IAE3C,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAI,WAAU;;4BACZ,aAAa,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS,kBACtC,6WAAC,kJAAA,CAAA,eAAY;gCACX,WAAU;gCACV,UAAU,aAAa,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS;gCACjD,MAAM,aAAa,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI;;;;;;0CAI5C,6WAAC;gCAAG,WAAU;0CAAuC,aAAa,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI;;;;;;;;;;;;oBAExF,iBAAiB,mBAChB,6WAAC;wBAAE,WAAU;;4BAAuD;4BAAE,iBAAiB;4BAAE;;;;;;;;;;;;;0BAI7F,6WAAC;0BACC,cAAA,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;;gCAAG,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD,EAAE,aAAa,MAAM,CAAC,KAAK,EAAE;gCAAU;;;;;;;wBACvD,aAAa,gBAAgB,IAAI,8BAChC,6WAAC;4BAAE,WAAU;;gCAAqC;gCAC1C,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD,EAAE,aAAa,gBAAgB,CAAC,KAAK,EAAE;gCAAU;gCAAE,CAAA,GAAA,wIAAA,CAAA,qBAAkB,AAAD,EAAE;gCACxF,6BACC;;sDACE,6WAAC;sDAAK;;;;;;wCACL,CAAA,GAAA,uIAAA,CAAA,oBAAiB,AAAD,EAAE;;;;;;;;;;;;;;;;;;;;0BAQ/B,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC,kJAAA,CAAA,eAAY;oBAAC,cAAc;oBAAc,QAAQ;oBAAC,QAAQ;;;;;;;;;;;0BAG7D,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC,kJAAA,CAAA,eAAY;oBAAC,cAAc;oBAAc,QAAQ;;;;;;;;;;;;;;;;;AAI1D","debugId":null}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return <div data-slot=\"skeleton\" className={cn(\"bg-skeleton animate-pulse rounded-md\", className)} {...props} />;\r\n}\r\n\r\nexport { Skeleton };\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBAAO,6WAAC;QAAI,aAAU;QAAW,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,wCAAwC;QAAa,GAAG,KAAK;;;;;;AAC9G","debugId":null}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/components/checkout/product-details-skeleton.tsx"],"sourcesContent":["import { Skeleton } from \"@/components/ui/skeleton\";\r\n\r\nexport function ProductDetailsSkeleton() {\r\n  return (\r\n    <div className=\"flex flex-col gap-3 px-3 -mt-1.5\">\r\n      <Skeleton className=\"h-12 w-full rounded-lg lg:bg-background\" />\r\n      <div className=\"space-y-2\">\r\n        <Skeleton className=\"h-4 w-32 lg:bg-background\" />\r\n        <Skeleton className=\"h-4 w-24 lg:bg-background\" />\r\n      </div>\r\n      <Skeleton className=\"h-14 w-full rounded-lg lg:h-48 lg:bg-background\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEO,SAAS;IACd,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC,oIAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;0BACpB,6WAAC;gBAAI,WAAU;;kCACb,6WAAC,oIAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;kCACpB,6WAAC,oIAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;;;;;;;0BAEtB,6WAAC,oIAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;;;;;;;AAG1B","debugId":null}},
    {"offset": {"line": 764, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/hooks/use-paddle.tsx"],"sourcesContent":["import type { CheckoutQueryParams } from \"@/lib/types\";\r\nimport { CheckoutOpenLineItem, initializePaddle, type Environments, type Paddle, type Theme } from \"@paddle/paddle-js\";\r\nimport type { CheckoutEventsData } from \"@paddle/paddle-js/types/checkout/events\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport type UsePaddleArgs = {\r\n  checkoutQueryParams: CheckoutQueryParams;\r\n  clientToken: string;\r\n  redirectUrl: string;\r\n  environment: Environments;\r\n};\r\n\r\n/**\r\n * Builds an array of items for the checkout.\r\n * It splits the priceId by commas and creates an item for each priceId.\r\n * @param priceId - The priceId to create an item for.\r\n * @returns An array of items for the checkout.\r\n */\r\nfunction buildItems(priceId: string | undefined): CheckoutOpenLineItem[] {\r\n  const allPriceIds = priceId?.split(\",\");\r\n  return allPriceIds?.map((priceId) => ({ priceId: priceId.trim(), quantity: 1 })) || [];\r\n}\r\n\r\nexport function usePaddle(args: UsePaddleArgs) {\r\n  const router = useRouter();\r\n  const [paddle, setPaddle] = useState<Paddle | null>(null);\r\n  const [checkoutData, setCheckoutData] = useState<CheckoutEventsData | null>(null);\r\n\r\n  const [customDataUpdated, setCustomDataUpdated] = useState(false);\r\n\r\n  const { checkoutQueryParams, clientToken, environment, redirectUrl } = args;\r\n\r\n  const {\r\n    discountCode,\r\n    discountId,\r\n    priceId,\r\n    transactionId,\r\n    userEmail,\r\n    appUserId,\r\n    paddleCustomerId,\r\n    countryCode,\r\n    postalCode,\r\n    theme,\r\n    locale,\r\n  } = checkoutQueryParams;\r\n\r\n  const handleCheckoutEvents = (event: CheckoutEventsData) => {\r\n    setCheckoutData(event);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!paddle?.Initialized && clientToken) {\r\n      initializePaddle({\r\n        token: clientToken,\r\n        environment,\r\n        eventCallback: (event) => {\r\n          if (event.name === \"checkout.completed\") {\r\n            // Get current URL parameters and merge with new ones\r\n            const currentParams = new URLSearchParams(window.location.search);\r\n            const searchParams = new URLSearchParams({\r\n              ...Object.fromEntries(currentParams),\r\n              redirect_url: redirectUrl,\r\n              transaction_id: event.data?.transaction_id || \"\",\r\n              customer_email: event.data?.customer?.email || \"\",\r\n              paddle_customer_id: event.data?.customer?.id || \"\",\r\n            });\r\n            router.push(`/checkout_redirect/success?${searchParams.toString()}`);\r\n          }\r\n\r\n          if (event.data && event.name) {\r\n            handleCheckoutEvents(event.data);\r\n          }\r\n        },\r\n        checkout: {\r\n          settings: {\r\n            theme: theme as Theme,\r\n            variant: \"one-page\",\r\n            displayMode: \"inline\",\r\n            frameTarget: \"paddle-checkout-frame\",\r\n            frameInitialHeight: 450,\r\n            frameStyle: \"width: 100%; background-color: transparent; border: none\",\r\n            locale: locale ?? \"en\",\r\n          },\r\n        },\r\n      }).then(async (paddle) => {\r\n        if (paddle && (priceId || transactionId)) {\r\n          setPaddle(paddle);\r\n\r\n          paddle.Checkout.open({\r\n            ...(userEmail && {\r\n              customer: {\r\n                email: userEmail,\r\n                ...((countryCode || postalCode) && {\r\n                  address: {\r\n                    ...(countryCode && { countryCode }),\r\n                    ...(postalCode && { postalCode }),\r\n                  },\r\n                }),\r\n              },\r\n            }),\r\n\r\n            // override the customer above if we have a paddle customer id\r\n            ...(paddleCustomerId && { customer: { id: paddleCustomerId } }),\r\n\r\n            // don't set the custom data here if there is a transaction id\r\n            ...(appUserId && !transactionId && { customData: { app_user_id: appUserId } }),\r\n\r\n            ...(transactionId ? { transactionId } : { items: buildItems(priceId) }),\r\n\r\n            ...(discountCode ? { discountCode } : discountId ? { discountId } : {}),\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }, [\r\n    appUserId,\r\n    clientToken,\r\n    countryCode,\r\n    paddle?.Initialized,\r\n    paddleCustomerId,\r\n    postalCode,\r\n    priceId,\r\n    redirectUrl,\r\n    router,\r\n    transactionId,\r\n    userEmail,\r\n    locale,\r\n    theme,\r\n    environment,\r\n    discountCode,\r\n    discountId,\r\n  ]);\r\n\r\n  // we need to update the custom data with the app user id\r\n  // this can't be called in the checkout.open call because any custom data that exists on the original transaction\r\n  // will be overridden by the passed in custom data\r\n  useEffect(() => {\r\n    // if we have a transaction id, we need to update the custom data with the app user id here\r\n    // also make sure we haven't already updated the custom data\r\n    if (transactionId && !customDataUpdated && paddle?.Initialized && appUserId && checkoutData) {\r\n      const { custom_data } = checkoutData;\r\n\r\n      paddle.Checkout.updateCheckout({\r\n        customData: { ...custom_data, app_user_id: appUserId },\r\n      });\r\n      setCustomDataUpdated(true);\r\n    }\r\n  }, [appUserId, checkoutData, customDataUpdated, paddle, transactionId]);\r\n\r\n  return {\r\n    checkoutData,\r\n    paddle,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AACA;AAEA;AACA;;;;AASA;;;;;CAKC,GACD,SAAS,WAAW,OAA2B;IAC7C,MAAM,cAAc,SAAS,MAAM;IACnC,OAAO,aAAa,IAAI,CAAC,UAAY,CAAC;YAAE,SAAS,QAAQ,IAAI;YAAI,UAAU;QAAE,CAAC,MAAM,EAAE;AACxF;AAEO,SAAS,UAAU,IAAmB;IAC3C,MAAM,SAAS,CAAA,GAAA,iQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAiB;IACpD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAA6B;IAE5E,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAE3D,MAAM,EAAE,mBAAmB,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG;IAEvE,MAAM,EACJ,YAAY,EACZ,UAAU,EACV,OAAO,EACP,aAAa,EACb,SAAS,EACT,SAAS,EACT,gBAAgB,EAChB,WAAW,EACX,UAAU,EACV,KAAK,EACL,MAAM,EACP,GAAG;IAEJ,MAAM,uBAAuB,CAAC;QAC5B,gBAAgB;IAClB;IAEA,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,QAAQ,eAAe,aAAa;YACvC,CAAA,GAAA,qOAAA,CAAA,mBAAgB,AAAD,EAAE;gBACf,OAAO;gBACP;gBACA,eAAe,CAAC;oBACd,IAAI,MAAM,IAAI,KAAK,sBAAsB;wBACvC,qDAAqD;wBACrD,MAAM,gBAAgB,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;wBAChE,MAAM,eAAe,IAAI,gBAAgB;4BACvC,GAAG,OAAO,WAAW,CAAC,cAAc;4BACpC,cAAc;4BACd,gBAAgB,MAAM,IAAI,EAAE,kBAAkB;4BAC9C,gBAAgB,MAAM,IAAI,EAAE,UAAU,SAAS;4BAC/C,oBAAoB,MAAM,IAAI,EAAE,UAAU,MAAM;wBAClD;wBACA,OAAO,IAAI,CAAC,CAAC,2BAA2B,EAAE,aAAa,QAAQ,IAAI;oBACrE;oBAEA,IAAI,MAAM,IAAI,IAAI,MAAM,IAAI,EAAE;wBAC5B,qBAAqB,MAAM,IAAI;oBACjC;gBACF;gBACA,UAAU;oBACR,UAAU;wBACR,OAAO;wBACP,SAAS;wBACT,aAAa;wBACb,aAAa;wBACb,oBAAoB;wBACpB,YAAY;wBACZ,QAAQ,UAAU;oBACpB;gBACF;YACF,GAAG,IAAI,CAAC,OAAO;gBACb,IAAI,UAAU,CAAC,WAAW,aAAa,GAAG;oBACxC,UAAU;oBAEV,OAAO,QAAQ,CAAC,IAAI,CAAC;wBACnB,GAAI,aAAa;4BACf,UAAU;gCACR,OAAO;gCACP,GAAI,CAAC,eAAe,UAAU,KAAK;oCACjC,SAAS;wCACP,GAAI,eAAe;4CAAE;wCAAY,CAAC;wCAClC,GAAI,cAAc;4CAAE;wCAAW,CAAC;oCAClC;gCACF,CAAC;4BACH;wBACF,CAAC;wBAED,8DAA8D;wBAC9D,GAAI,oBAAoB;4BAAE,UAAU;gCAAE,IAAI;4BAAiB;wBAAE,CAAC;wBAE9D,8DAA8D;wBAC9D,GAAI,aAAa,CAAC,iBAAiB;4BAAE,YAAY;gCAAE,aAAa;4BAAU;wBAAE,CAAC;wBAE7E,GAAI,gBAAgB;4BAAE;wBAAc,IAAI;4BAAE,OAAO,WAAW;wBAAS,CAAC;wBAEtE,GAAI,eAAe;4BAAE;wBAAa,IAAI,aAAa;4BAAE;wBAAW,IAAI,CAAC,CAAC;oBACxE;gBACF;YACF;QACF;IACF,GAAG;QACD;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,yDAAyD;IACzD,iHAAiH;IACjH,kDAAkD;IAClD,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,2FAA2F;QAC3F,4DAA4D;QAC5D,IAAI,iBAAiB,CAAC,qBAAqB,QAAQ,eAAe,aAAa,cAAc;YAC3F,MAAM,EAAE,WAAW,EAAE,GAAG;YAExB,OAAO,QAAQ,CAAC,cAAc,CAAC;gBAC7B,YAAY;oBAAE,GAAG,WAAW;oBAAE,aAAa;gBAAU;YACvD;YACA,qBAAqB;QACvB;IACF,GAAG;QAAC;QAAW;QAAc;QAAmB;QAAQ;KAAc;IAEtE,OAAO;QACL;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 925, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jackh/F1App/F1_LightGod/Frontend/src/components/checkout/checkout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ProductDetails } from \"@/components/checkout/product-details\";\r\nimport { ProductDetailsSkeleton } from \"@/components/checkout/product-details-skeleton\";\r\nimport { CheckoutQueryParams } from \"@/lib/types\";\r\nimport { usePaddle } from \"@/hooks/use-paddle\";\r\nimport { Environments } from \"@paddle/paddle-js\";\r\n\r\ntype Props = {\r\n  checkoutQueryParams: CheckoutQueryParams;\r\n  environment: Environments;\r\n  clientToken: string;\r\n  redirectUrl: string;\r\n};\r\n\r\nexport function Checkout(props: Props) {\r\n  const { checkoutData } = usePaddle({\r\n    checkoutQueryParams: props.checkoutQueryParams,\r\n    environment: props.environment,\r\n    clientToken: props.clientToken,\r\n    redirectUrl: props.redirectUrl,\r\n  });\r\n\r\n  return (\r\n    <div className={`bg-card mx-auto grid min-h-screen p-0 px-2 lg:h-full lg:w-full lg:grid-cols-[1fr_1fr] lg:p-0`}>\r\n      <div className=\"lg:bg-background flex w-full justify-center lg:order-2 lg:h-full\">\r\n        <div className={`w-full max-w-[min(647px,100vw)] pt-6 lg:px-8 lg:pt-16`}>\r\n          {checkoutData ? (\r\n            <ProductDetails checkoutData={checkoutData} locale={props.checkoutQueryParams.locale} />\r\n          ) : (\r\n            <ProductDetailsSkeleton />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mx-auto w-full max-w-[min(647px,100vw)] lg:order-1 lg:px-4 lg:pt-10\">\r\n        {checkoutData && (\r\n          <h2 className=\"hidden px-3 py-6 text-2xl leading-none font-semibold lg:block\">Payment details</h2>\r\n        )}\r\n        <div className=\"paddle-checkout-frame w-full\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAeO,SAAS,SAAS,KAAY;IACnC,MAAM,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,YAAS,AAAD,EAAE;QACjC,qBAAqB,MAAM,mBAAmB;QAC9C,aAAa,MAAM,WAAW;QAC9B,aAAa,MAAM,WAAW;QAC9B,aAAa,MAAM,WAAW;IAChC;IAEA,qBACE,6WAAC;QAAI,WAAW,CAAC,4FAA4F,CAAC;;0BAC5G,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC;oBAAI,WAAW,CAAC,qDAAqD,CAAC;8BACpE,6BACC,6WAAC,oJAAA,CAAA,iBAAc;wBAAC,cAAc;wBAAc,QAAQ,MAAM,mBAAmB,CAAC,MAAM;;;;;6CAEpF,6WAAC,gKAAA,CAAA,yBAAsB;;;;;;;;;;;;;;;0BAK7B,6WAAC;gBAAI,WAAU;;oBACZ,8BACC,6WAAC;wBAAG,WAAU;kCAAgE;;;;;;kCAEhF,6WAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB","debugId":null}}]
}